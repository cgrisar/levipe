<div class="h-64"></div>
<div class="flex justify-center">
    <div class="container">
        <div class="flex flex-wrap">
            {{ collection:grape sort="title" }}
                    {{ assets:cover_image }}
                    <figure style="flex-grow:{{ width | multiply:100 | divide:height }}; flex-basis: {{ width | multiply:180 | divide:height }}px;" class="relative m-1">
                        <i style="padding-bottom: {{ height | divide:width | multiply:100 }}%;" class="block"></i>
                        <a href= "http://levipe.dev/fr/grape/{{ slug }}">
                            <div>
                                <img src="{{ url }}" class="absolute w-full pin-t align-bottom" onmouseenter="showCaption(this)" onmouseout="hideCaption(this)">
                                <div class="absolute pin-b h-12 pt-4 pl-4 w-full" style="background-image: linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.498039)); background-position: initial initial; background-repeat: initial initial;">
                                    <span class="font-semibold text-white text-lg hidden">{{ name }}</span>
                                </div>
                            </div>
                        </a>
                    </figure>
                    {{ /assets:cover_image }}
            {{ /collection:grape }}
        </div>
    </div>
</div>

{{ section:page_scripts }}

    <script>
        function showCaption( el ) {
            el.nextElementSibling.childNodes[1].className = el.nextElementSibling.childNodes[1].className.slice(0, -7);
        }

        function hideCaption( el ) {
            el.nextElementSibling.childNodes[1].className += " hidden"
        }
    </script>

{{ /section:page_scripts }}